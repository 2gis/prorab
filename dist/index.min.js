"use strict";function log(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,["[main thread]["+Date.now()+"] "].concat(e))}function workerInit(){var e=this;this.msgHandlers={},this.options={},this.imports={},this.debug=!1,this.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,["[worker]["+Date.now()+"] "].concat(e))},this.registerMsgHandler=function(t,o){e.msgHandlers[t]||(e.msgHandlers[t]=o)},this.dropMsgHandler=function(t){delete e.msgHandlers[t]},this.send=function(t){e.debug&&e.log("Sending message: "+t.type),e.postMessage(JSON.stringify(t))},self.onmessage=function(t){switch(t.data.type){case"init":for(var o in t.data.options){var r=t.data.options[o];r&&r.substr&&"blob"==r.substr(0,4)?importScripts(r):e.options[o]=r}break;default:var n=JSON.parse(t.data.payload)||{};t.data.debug?(e.log("Received message: "+t.data.type,n),e.debug=!0):e.debug=!1,e.msgHandlers[t.data.type]&&e.msgHandlers[t.data.type](n)}}}function getMainFunc(e,t){return URL.createObjectURL(new Blob(["(",workerInit.toString(),")();","(",e.toString(),")();"].concat(t),{type:"application/javascript"}))}function replaceContext(e,t){return t.reduce(function(e,t){return e.replace(new RegExp(t+"\\s*\\(","g"),"options."+t+"(").replace("function options.","function ")},e)}function prepareOptions(e){var t={};for(var o in e)"function"==typeof e[o]?t[o]=URL.createObjectURL(new Blob(['options["'+o+'"] = ',replaceContext(e[o].toString(),Object.keys(e))],{type:"application/javascript"})):t[o]=e[o];return t}function makeWebpackImports(e){if("undefined"==typeof __webpack_modules__)return[];var t=['var mod; var imported = {}; var resolver = function (moduleId) { if (!imports[imported[moduleId]]) { throw new Error("Import " + moduleId + " (mapped to " + imported[moduleId] + ") cannot be found. You may try to reorder your imports, to load all dependencies before any dependent imports to fix this."); } return imports[imported[moduleId]]; };resolver.d = function(target, member, value) { setTimeout(function() { target[member] = value(); }, 0); };'];for(var o in e)t.push("var mod = {exports: {}}; ("+__webpack_modules__[e[o]]+')(mod, mod.exports, resolver); imports["'+o+'"] = mod.exports; imported['+e[o]+'] = "'+o+'";');return t}exports.__esModule=!0,exports.createWorker=function(e,t,o,r){void 0===r&&(r=!1);var n=new Worker(getMainFunc(e,makeWebpackImports(o||{})));n.postMessage({type:"init",debug:!1,options:prepareOptions(t)});var s={worker:n,messageListeners:{},debug:r,registerMsgHandler:function(e,t){return s.messageListeners[e]||(s.messageListeners[e]=t),s},dropMsgHandler:function(e){return delete s.messageListeners[e],s},send:function(e){var t=e.type,o=e.payload;return s.debug&&log("Sending message: "+t),n.postMessage({type:t,debug:s.debug,payload:JSON.stringify(o)}),s}};return n.onmessage=function(e){var t=JSON.parse(e.data),o=t.payload||{};s.debug&&log("Received message: "+t.type,o),s.messageListeners[t.type]&&s.messageListeners[t.type](o)},s};