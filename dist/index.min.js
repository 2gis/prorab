"use strict";function workerInit(){var e=this;this.msgHandlers={},this.options={},this.imports={},this.registerMsgHandler=function(t,r){e.msgHandlers[t]||(e.msgHandlers[t]=r)},this.dropMsgHandler=function(t){delete e.msgHandlers[t]},this.send=function(t){e.postMessage(JSON.stringify(t))},self.onmessage=function(t){switch(t.data.type){case"init":for(var r in t.data.options){var s=t.data.options[r];s&&s.substr&&"blob"==s.substr(0,4)?importScripts(s):e.options[r]=s}break;default:var n=JSON.parse(t.data.payload);n.type=t.data.type,e.msgHandlers[t.data.type]&&e.msgHandlers[t.data.type](n)}}}function getMainFunc(e,t){return URL.createObjectURL(new Blob(["(",workerInit.toString(),")();","(",e.toString(),")();"].concat(t),{type:"application/javascript"}))}function replaceContext(e,t){return t.reduce(function(e,t){return e.replace(t+"(","this.options."+t+"(")},e)}function prepareOptions(e){var t={};for(var r in e)"function"==typeof e[r]?e[r]=URL.createObjectURL(new Blob(['options["'+r+'"] = ',replaceContext(e[r].toString(),Object.keys(e))],{type:"application/javascript"})):t[r]=e[r];return t}function makeWebpackImports(e){if("undefined"==typeof __webpack_modules__)return[];var t=["var mod; var imported = {}; var resolver = function (moduleId) { return imports[imported[moduleId]]; };resolver.d = function(target, member, value) { setTimeout(function() { target[member] = value(); }, 0); };"];for(var r in e)t.push("var mod = {exports: {}}; ("+__webpack_modules__[e[r]]+')(mod, mod.exports, resolver); imports["'+r+'"] = mod.exports; imported['+e[r]+'] = "'+r+'";');return t}exports.__esModule=!0,exports.createWorker=function(e,t,r){var s=new Worker(getMainFunc(e,makeWebpackImports(r||{})));s.postMessage({type:"init",options:prepareOptions(t)});var n={worker:s,messageListeners:{},registerMsgHandler:function(e,t){return n.messageListeners[e]||(n.messageListeners[e]=t),n},dropMsgHandler:function(e){return delete n.messageListeners[e],n},send:function(e){var t=e.type,r=e.payload;return s.postMessage({type:t,payload:JSON.stringify(r)}),n}};return s.onmessage=function(e){var t=JSON.parse(e.data),r=t.payload;n.messageListeners[t.type]&&(r.type=t.type,n.messageListeners[t.type](r))},n};